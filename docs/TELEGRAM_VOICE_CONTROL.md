# Telegram Voice Control (Groq Whisper)

## Что реализовано

- Telegram bot принимает голосовые сообщения (`voice`) от админов.
- Бот проверяет ограничения Groq Free Tier перед распознаванием:
  - максимальный размер файла: `25 MB`;
  - минимальная длительность: `0.01 сек`.
- Если проверка проходит, бот отправляет аудио в Groq API:
  - base URL: `https://api.groq.com/openai/v1`;
  - endpoint: `POST /audio/transcriptions`;
  - модели: `whisper-large-v3-turbo`, `whisper-large-v3`.
- В чате бот показывает динамический статус:
  1. `Распознаю голосовое сообщение...`
  2. затем редактирует сообщение в формат:
     - `Голосовое сообщение распознано как:`
     - цитата с распознанным текстом
     - `и отправлено в чат агента`
- Распознанный текст отправляется в тот же backend prompt pipeline, что и обычный текстовый ввод.

## Настройка в Mini App

- Во вкладке `Settings` добавлен аккордеон `6. Голосовое управление`.
- В секции доступны:
  - поле для `Groq API key`;
  - выбор модели (`whisper-large-v3-turbo` или `whisper-large-v3`);
  - кнопки reload/save.
- Настройки сохраняются per-admin в backend preferences store (`data/telegram.preferences.json`).

## Ошибки и fallback-сообщения

- Если Groq не настроен (нет ключа/модели) или транскрибация не удалась, бот пишет:
  - `Для перевода речи в текст настройте Groq API.`
- Если файл превышает лимит Groq, бот пишет:
  - `Голосовое сообщение слишком большое: лимит 25 MB.`
