# Implemented

1. 2026-02-06 - Обновлен UX Telegram-ответов и кнопки режима: техническая строка footer теперь помечается markdown-цитатой и после рендера в Telegram показывается как `blockquote`, а reply-кнопка режима перешла на формат `⚙️ Режим | <active-project-slug>` вместо runtime-footer. Для этого обновлены форматтеры/рендерер и bot worker (`services/backend/src/telegram/outbox/telegram-footer.ts`, `services/backend/src/telegram/outbox/telegram-markdown.ts`, `services/backend/src/telegram/outbox/tests/telegram-footer.test.ts`, `services/backend/src/telegram/outbox/tests/telegram-markdown.test.ts`, `services/bot/src/mode-control.ts`, `services/bot/src/outbox-worker.ts`, `services/bot/src/tests/mode-control.test.ts`, `docs/OPENCODE_TELEGRAM_PLAN.md`). Проверить: в Telegram нижняя техстрока финального ответа отображается отдельной цитатой, а кнопка внизу чата выглядит как `⚙️ Режим | aihub` (или текущий slug проекта).

1. 2026-02-06 - В раздел `8. Общие настройки` добавлена кнопка `Перезагрузить OpenCode` для применения изменений правил/конфига без ручного доступа к Docker. На backend добавлен endpoint `POST /api/opencode/restart`, который находит контейнер(ы) с label `com.docker.compose.service=opencode` и выполняет `docker restart`; на frontend кнопка вызывает этот endpoint и затем обновляет overview настроек. Файлы: `services/backend/src/opencode/opencode-runtime.service.ts`, `services/backend/src/opencode/opencode.controller.ts`, `services/backend/src/app.module.ts`, `services/miniapp/src/components/SettingsTab.tsx`, `services/miniapp/src/components/WorkspaceTabsContent.tsx`, `services/miniapp/src/App.tsx`. Проверить: после редактирования правил в Settings нажать `Перезагрузить OpenCode`, контейнер opencode перезапускается, API продолжает отвечать.

1. 2026-02-06 - Реализовано управление созданием и удалением проектов из Mini App: во вкладке `Projects` поиск переработан в layout 80/20 (поле поиска + кнопка `+`), добавлено меню создания с двумя сценариями — `Создать папку проекта` (ввод имени) и `Клонировать git репозиторий` (URL + опциональная папка, с использованием git credentials backend runtime/container). На backend добавлены API `POST /api/projects/create-folder`, `POST /api/projects/clone`, `POST /api/projects/:id/delete` с валидацией путей/имен; удаление блокируется для git-репозиториев с незакоммиченными изменениями (`git status --porcelain`). В `Settings` добавлен аккордеон `Настройки проекта` с кнопкой удаления выбранного проекта и предупреждением о блокировке при dirty git state. Также добавлена автоочистка stale active selection, если выбранный проект физически удален. Файлы: `services/backend/src/projects/project-workspace.service.ts`, `services/backend/src/projects/project-workspace.utils.ts`, `services/backend/src/projects/projects.controller.ts`, `services/backend/src/projects/projects.service.ts`, `services/backend/src/app.module.ts`, тест `services/backend/src/projects/tests/project-workspace.utils.test.ts`; `services/miniapp/src/components/ProjectsTab.tsx`, `services/miniapp/src/components/SettingsTab.tsx`, `services/miniapp/src/components/WorkspaceTabsContent.tsx`, `services/miniapp/src/hooks/use-project-workspace.ts`, `services/miniapp/src/App.tsx`, `services/miniapp/src/styles.css`, `services/miniapp/src/theme-layout.css`, обновлены тесты `services/miniapp/src/components/tests/projects-tab.test.tsx`, `services/miniapp/src/components/tests/settings-tab.test.tsx`. Проверить: кнопка `+` показывает два сценария создания, clone/create обновляют список проектов, удаление активного проекта работает только для clean/non-git папок.

1. 2026-02-06 - Переведено хранение глобальных OpenCode настроек на Docker-native схему (container source-of-truth): добавлен общий named volume `opencode_config` и подключен одновременно к `opencode` (`/root/.config/opencode`) и `backend` (`/opencode-config`), backend теперь читает/создает/редактирует `AGENTS.md`, `opencode.json`, `agents/skills/plugins` именно из этого контейнерного хранилища через `OPENCODE_CONFIG_DIR=/opencode-config`. Обновлены compose-файлы dev/prod и backend config (`OPENCODE_CONFIG_DIR` в schema/types), а в сервисе настроек убран хостовый fallback на `~/.config/opencode` в пользу контейнерного пути по умолчанию. Файлы: `docker-compose.dev.yml`, `docker-compose.yml`, `services/backend/src/config/config.types.ts`, `services/backend/src/config/config.ts`, `services/backend/src/opencode/opencode-settings.service.ts`, `.env.example`. Проверить: `GET /api/opencode/settings/overview` возвращает пути `/opencode-config/...`, созданные через miniapp файлы сразу видны внутри `opencode` контейнера в `/root/.config/opencode`.

1. 2026-02-06 - В `Settings` реализован аккордеон с подразделами OpenCode и встроенным редактором файлов для мобильного miniapp: добавлены секции `Правила агента`, `Агенты`, `Конфиг OpenCode`, `Commands`, `Skills`, `Plugins`, `Общие настройки`; для `AGENTS.md` (глобальный и проектный) и `opencode.json` поддержаны сценарии create/read/edit/save, для списков (`agents/commands/skills/plugins`) реализованы листинг файлов, открытие, создание файла по имени (с расширением) и сохранение содержимого. На backend добавлен API `GET /api/opencode/settings/overview` и `POST /api/opencode/settings/{read|save|create}` с безопасным резолвом путей и защитой от traversal; команды проекта берутся из `<project>/.opencode/commands`, глобальные разделы — из `OPENCODE_CONFIG_DIR` или `~/.config/opencode`. Для удобного редактирования подключен CodeMirror (`@uiw/react-codemirror` + markdown/json language packs). Файлы: `services/backend/src/opencode/opencode-settings.service.ts`, `services/backend/src/opencode/opencode.controller.ts`, `services/backend/src/app.module.ts`; `services/miniapp/src/components/SettingsTab.tsx`, `services/miniapp/src/components/CodeEditor.tsx`, `services/miniapp/src/hooks/use-opencode-settings.ts`, `services/miniapp/src/components/WorkspaceTabsContent.tsx`, `services/miniapp/src/App.tsx`, `services/miniapp/src/theme-layout.css`, `services/miniapp/src/types.ts`, `services/miniapp/package.json`. Проверить: в Settings открываются все аккордеоны, файлы читаются/создаются/сохраняются, синхронизация OpenCode и переключение day/night находятся в `Общие настройки`.

1. 2026-02-06 - Добавлен полноценный раздел `GitHub` в Mini App с базовым управлением git: новая вкладка в верхнем меню (после `Files`), обзор текущей ветки и ahead/behind, список измененных файлов со статусами (`modified/added/deleted/renamed/untracked/conflict`) и line stats, а также операции `refresh/fetch/pull/push/switch/merge/commit`. На backend реализованы новые endpoint-ы `GET /api/projects/:id/git/overview`, `POST /api/projects/:id/git/{fetch|pull|push|checkout|merge|commit}` и выделены сервисы `ProjectGitOpsService`/парсеры статусов; на фронте добавлены `GitHubTab`, `useProjectGit`, мобильные стили и интеграция в tab-router. Дополнительно исправлено отображение git-статистики через установку `git` в backend-контейнер и безопасный `safe.directory` override для volume-репозиториев. Файлы: `services/backend/src/projects/project-git-ops.service.ts`, `services/backend/src/projects/git-overview-parser.ts`, `services/backend/src/projects/projects.controller.ts`, `services/backend/src/projects/projects.service.ts`, `services/backend/src/projects/project-git.service.ts`, `services/backend/src/projects/project.types.ts`, `services/backend/src/app.module.ts`, `services/backend/Dockerfile`; `services/miniapp/src/components/GitHubTab.tsx`, `services/miniapp/src/components/WorkspaceHeader.tsx`, `services/miniapp/src/components/WorkspaceTabsContent.tsx`, `services/miniapp/src/hooks/use-project-git.ts`, `services/miniapp/src/types.ts`, `services/miniapp/src/App.tsx`, `services/miniapp/src/git-tab.css`, `services/miniapp/src/main.tsx`, `services/miniapp/src/workspace-header.css`, `services/miniapp/src/api/client.ts`. Тесты: `services/backend/src/projects/tests/git-overview-parser.test.ts`, `services/miniapp/src/components/tests/github-tab.test.tsx`, обновлены `services/miniapp/src/components/tests/workspace-header.test.tsx` и смежные тесты. Проверить: после выбора проекта доступна вкладка GitHub, операции выполняются и обновляют список файлов/ветку, карточки проектов показывают git-дельты, файлы >500 строк удержаны ниже лимита.

1. 2026-02-06 - Исправлено отсутствие git-статистики в карточках проектов: в backend-контейнер добавлен `git` (`services/backend/Dockerfile`), а git-команды переведены на inline-параметр `-c safe.directory=<projectRoot>` без изменения глобального git config (устранена ошибка `detected dubious ownership` в Docker volume). Файл: `services/backend/src/projects/project-git.service.ts`. Проверить: `GET /api/projects/<id>/git-summary` возвращает JSON с `filesChanged/additions/deletions`, и в Mini App отображаются `+/-` и число файлов.

1. 2026-02-06 - Упрощена вкладка `Projects` и добавлена dev-метрика изменений: удалены фильтр `Runnable only` и кнопки `Refresh/Sync OpenCode/Warm Recents`, оставлена только строка поиска и выбор проекта; управление Docker полностью убрано из карточек проектов (оставлена только `Select/Selected`), а вместо старого статуса добавлены (а) индикатор контейнеров с цветом и форматами `N` или `N/M`, (б) git-сводка незакомиченных изменений `+additions -deletions filesChanged`. Для этого добавлен backend endpoint `GET /api/projects/:id/git-summary` с парсингом `git status --porcelain` и `git diff --numstat`, плюс исправлена нормализация compose project name для slug с точкой (`do-invest.ru`), чтобы status endpoint не падал. Файлы: `services/miniapp/src/components/ProjectsTab.tsx`, `services/miniapp/src/App.tsx`, `services/miniapp/src/styles.css`, `services/miniapp/src/theme-layout.css`, `services/miniapp/src/components/SettingsTab.tsx`, `services/miniapp/src/utils/project-metadata.ts`, `services/miniapp/src/utils/project-container-health.ts`, `services/miniapp/src/types.ts`, тесты `services/miniapp/src/components/tests/projects-tab.test.tsx`, `services/miniapp/src/components/tests/settings-tab.test.tsx`, `services/miniapp/src/utils/tests/project-container-health.test.ts`; backend `services/backend/src/projects/projects.controller.ts`, `services/backend/src/projects/projects.service.ts`, `services/backend/src/projects/project-git.service.ts`, `services/backend/src/projects/git-summary-parser.ts`, `services/backend/src/projects/project.types.ts`, `services/backend/src/app.module.ts`, тест `services/backend/src/projects/tests/git-summary-parser.test.ts`. Проверить: в карточках проектов нет Start/Restart/Stop, есть только Select/Selected; есть контейнерный индикатор и git-сводка; для slug с точкой status больше не дает 400.

1. 2026-02-06 - Устранены артефакты «битой кодировки» в терминале Mini App: проблема была не в UTF-8, а в выводе управляющих ANSI-последовательностей PTY (например `ESC[?2004h` для bracketed paste), которые показывались как мусор в plain-text `<pre>`. Добавлена санитаризация terminal chunk перед рендером (удаление ANSI CSI/OSC и непечатаемых control-символов) и тесты на очистку escape-последовательностей/цветов. Файлы: `services/miniapp/src/hooks/use-terminal-events.ts`, `services/miniapp/src/utils/terminal-output.ts`, `services/miniapp/src/utils/tests/terminal-output.test.ts`. Проверить: в Terminal больше не появляется префикс вида `�[?2004h`, приглашение shell и вывод команд читаются без служебного мусора.

1. 2026-02-06 - Переделан верхний блок Mini App в иконковое таб-меню: удален заголовок `Workspace` и текстовые табы, добавлена верхняя панель из 5 равных icon-only кнопок (`projects/files/terminal/containers/settings`) с переносом навигации в самый верх экрана, а активный проект переработан в отдельную карточку-блок с улучшенной визуальной подачей и stream-toggle. Файлы: `services/miniapp/src/components/WorkspaceHeader.tsx`, `services/miniapp/src/workspace-header.css`, `services/miniapp/src/main.tsx`, тест `services/miniapp/src/components/tests/workspace-header.test.tsx`. Проверить: вверху только 5 иконок без названий, старые текстовые табы отсутствуют, карточка выбранного проекта выглядит как выделенный блок и корректно отображается на mobile/desktop.

1. 2026-02-06 - Улучшено управление контейнерами во вкладке `Containers`: текстовые кнопки `Start/Restart/Stop` заменены на компактные icon-only кнопки с hover-эффектами и понятными tooltip/aria-label, добавлены иконки для compose-операций и операций каждого контейнера, а на backend добавлен fallback-вывод `service` из имени контейнера (`<project>-<service>-<index>`), чтобы кнопки действий не блокировались при отсутствии поля `Service` в выводе Docker. Файлы: `services/miniapp/src/components/ContainersTab.tsx`, `services/miniapp/src/containers-layout.css`, `services/backend/src/projects/projects.service.ts`. Проверить: в `Containers` отображаются иконки вместо слов, кнопки активны для контейнеров `tvoc-*`, управление работает для всего compose и по каждому контейнеру отдельно.

1. 2026-02-06 - Обновлен UI Mini App и исправлен контейнерный статус: добавлен новый таб `Settings` после `Containers` с переключением day/night темы, управление стримом перенесено к названию активного проекта в виде иконки-переключателя, в файловом тулбаре `Up/Refresh` переведены в компактные icon-only кнопки, терминал переверстан на full-height режим с нижней строкой ввода в стиле мессенджера (min-height 300), а на backend исправлен парсинг `docker compose ps --format json` (поддержка warning+NDJSON и нормализация полей в стабильный API ответ). Файлы: `services/miniapp/src/App.tsx`, `services/miniapp/src/components/WorkspaceHeader.tsx`, `services/miniapp/src/components/SettingsTab.tsx`, `services/miniapp/src/components/FilesTab.tsx`, `services/miniapp/src/components/TerminalTab.tsx`, `services/miniapp/src/components/ContainersTab.tsx`, `services/miniapp/src/utils/theme.ts`, `services/miniapp/src/theme-layout.css`, `services/miniapp/src/main.tsx`, `services/backend/src/projects/docker-compose-ps-parser.ts`, `services/backend/src/projects/projects.service.ts`, тесты `services/miniapp/src/utils/tests/theme.test.ts`, `services/backend/src/projects/tests/docker-compose-ps-parser.test.ts`. Проверить: в Mini App появился таб Settings, тема переключается и сохраняется, stream-toggle рядом с названием проекта, файловые кнопки иконками, терминал занимает всю доступную высоту, вкладка Containers больше не падает с parse error.

1. 2026-02-06 - Настроен hot reload для Mini App в dev-стеке Docker: `docker-compose.dev.yml` переведен на Vite dev server с bind-mount исходников и polling watcher (без пересборки образа при каждом изменении), добавлен proxy `/api` и `/events` на backend в `services/miniapp/vite.config.ts`, добавлена инструкция запуска в `README.md`. Файлы: `docker-compose.dev.yml`, `services/miniapp/vite.config.ts`, `README.md`. Проверить: при `docker compose -f docker-compose.dev.yml up -d` изменения в `services/miniapp/src/*` появляются в браузере сразу без `docker compose build`, а API работает без 404.

1. 2026-02-06 - Обновлен верхний layout Mini App под edge-to-edge: удален отдельный хедер `OpenCode Control`, убраны внешние отступы контейнера, выключены серый фон/градиенты и карточный стиль панели (border-radius/shadow), чтобы белый рабочий блок прилегал к границам экрана (`services/miniapp/src/App.tsx`, `services/miniapp/src/styles.css`). Проверить: в Mini App нет верхнего заголовка, белый блок начинается от краев экрана и серый фон отсутствует на desktop и mobile.

1. 2026-02-06 - Реализован deep-link preview diff из Telegram-сообщения о файловых изменениях: формат runtime-сообщения изменен на HTML (курсив операции, жирные `+N/-M`, жирная подчеркнутая кликабельная ссылка на путь), добавлен token-store diff preview и endpoint `GET /api/telegram/diff-preview/:token`, а Mini App научен открывать полноэкранный просмотр diff по `startapp=diff_<token>` (`services/backend/src/telegram/outbox/telegram-file-event-message.ts`, `services/backend/src/telegram/outbox/telegram-opencode-runtime-bridge.service.ts`, `services/backend/src/telegram/diff-preview/telegram-diff-preview.store.ts`, `services/backend/src/telegram/telegram.controller.ts`, `services/miniapp/src/MiniAppRoot.tsx`, `services/miniapp/src/components/DiffPreviewScreen.tsx`, `services/miniapp/src/utils/start-param.ts`, `services/miniapp/src/diff-preview.css`). Проверить: клик по пути файла в Telegram открывает Mini App и полноэкранный diff нужного файла.
1. 2026-02-06 - Исправлено форматирование markdown-кода в Telegram-ответах: fenced блоки ```...``` и inline `code` конвертируются в Telegram HTML (`<pre><code>` / `<code>`), чтобы не показывать сырые обратные кавычки (`services/backend/src/telegram/outbox/telegram-markdown.ts`, `services/backend/src/telegram/outbox/telegram-outbox.service.ts`, `services/backend/src/telegram/outbox/tests/telegram-markdown.test.ts`). Проверить: в новых ответах код отображается как форматированный блок без символов ```.
1. 2026-02-06 - Исправлен индикатор размышления: теперь он управляется runtime-событиями OpenCode и появляется при `reasoning`, скрывается при `tool/text/idle`, затем может повторно появляться после tool-этапов при возврате к размышлению (`services/backend/src/telegram/outbox/telegram-opencode-runtime-bridge.service.ts`, `services/backend/src/telegram/outbox/telegram-outbox.service.ts`, `services/backend/src/telegram/outbox/telegram-outbox.types.ts`, `services/backend/src/telegram/outbox/telegram-outbox.store.ts`, `services/bot/src/outbox-worker.ts`). Проверить: в одном запросе индикатор может несколько раз появляться/исчезать по фазам работы агента.
2. 2026-02-06 - Перенастроена политика уведомлений: промежуточные и технические сообщения outbox отправляются тихо (`disable_notification=true`), звуковое уведомление приходит только на финальном чанке ответа (без отдельного mention-пинга) (`services/backend/src/telegram/outbox/telegram-outbox.types.ts`, `services/backend/src/telegram/outbox/telegram-outbox.store.ts`, `services/backend/src/telegram/outbox/telegram-outbox.service.ts`, `services/bot/src/outbox-worker.ts`). Проверить: во время выполнения нет звука, в конце один обычный audible финальный ответ.
1. 2026-02-05 - Добавлены расширенные runtime-события OpenCode для Telegram: форматирование операций с файлами (`Создание/Редактирование/Удаление ... +N -M`), live-обновление выполнения `bash` в одном сообщении через replace/edit и поддержка вопросов OpenCode с inline-кнопками и обратной отправкой ответа в OpenCode (`services/backend/src/telegram/outbox/telegram-opencode-runtime-bridge.service.ts`, `services/backend/src/open-code/opencode-session-routing.store.ts`, `services/backend/src/telegram/telegram.controller.ts`, `services/backend/src/open-code/opencode-client.ts`, `services/backend/src/open-code/opencode-telemetry.ts`, `services/backend/src/telegram/outbox/*`, `services/bot/src/outbox-worker.ts`, `services/bot/src/main.ts`). Проверить: во время выполнения команд видно live-прогресс терминала, события изменения файлов приходят отдельными строками, вопросы OpenCode приходят с inline-кнопками и корректно принимают ответ.
2. 2026-02-05 - Исправлен footer в Telegram-ответах: вместо дублирования агента теперь выводится `thinking | agent` (данные thinking проброшены из prompt-события в outbox) в `services/backend/src/prompt/prompt.service.ts`, `services/backend/src/telegram/outbox/telegram-events-outbox-bridge.service.ts`, `services/backend/src/telegram/outbox/telegram-outbox.service.ts`, `services/backend/src/telegram/outbox/telegram-footer.ts`; добавлен тест `services/backend/src/telegram/outbox/tests/telegram-footer.test.ts`. Проверить: в нижней строке ответа отображается степень мышления (например `high/default`) и имя агента.
3. 2026-02-05 - Полностью реализовано Telegram-меню режима (модель/степень мышления/агент): добавлены backend настройки и валидация (`services/backend/src/telegram/preferences/*`, `services/backend/src/telegram/telegram.controller.ts`, `services/backend/src/open-code/opencode-client.ts`, `services/backend/src/open-code/opencode.types.ts`, `services/backend/src/prompt/prompt.service.ts`, `services/backend/src/app.module.ts`), а также bot UX с reply-кнопкой `⚙️ Режим`, `/mode` и inline picker (`services/bot/src/mode-control.ts`, `services/bot/src/mode-callback.ts`, `services/bot/src/main.ts`, `services/bot/src/telegram-commands.ts`). Добавлены тесты (`services/backend/src/telegram/preferences/tests/telegram-preferences.store.test.ts`, `services/backend/src/open-code/tests/opencode-client.test.ts`, `services/bot/src/tests/mode-callback.test.ts`). Проверить: в Telegram доступно меню `⚙️ Режим`, выбор model/thinking/agent сохраняется и влияет на новые промпты.
4. 2026-02-05 - Добавлен периодический ресинк slash-меню Telegram (каждые 60с) для OpenCode-команд: создан планировщик `services/bot/src/command-sync.ts`, интегрирован lifecycle start/stop в `services/bot/src/main.ts`, добавлены тесты `services/bot/src/tests/command-sync.test.ts`. Проверить: после изменения команд в OpenCode меню Telegram обновляется без ручного `/start`.
5. 2026-02-05 - Реализован проброс slash-команд OpenCode в Telegram: backend добавил `GET /api/telegram/commands` и `POST /api/telegram/command` (`services/backend/src/telegram/telegram.controller.ts`, `services/backend/src/prompt/prompt.service.ts`, `services/backend/src/open-code/opencode-client.ts`, `services/backend/src/open-code/opencode.types.ts`), bot синхронизирует меню `setMyCommands` и выполняет неизвестные локальному боту slash-команды через backend (`services/bot/src/main.ts`, `services/bot/src/telegram-commands.ts`). Добавлены тесты для маппинга/парсинга команд и API-клиента (`services/bot/src/tests/telegram-commands.test.ts`, `services/backend/src/open-code/tests/opencode-client.test.ts`). Проверить: в Telegram при вводе `/` видны команды OpenCode + `/start` + команды стрима; `/help` (или другая команда OpenCode) исполняется и ответ приходит через outbox.
6. 2026-02-05 - Добавлена надежная доставка сообщений в Telegram: backend outbox (`services/backend/src/telegram/outbox/*`, `data/telegram.outbox.json`) + polling worker в боте (`services/bot/src/outbox-worker.ts`) с lease+retry; добавлен футер в конце ответа (контекст/%, provider/model, mode, agent) и компактный trace (tool/patch/subtask) без chain-of-thought; добавлен "thinking" индикатор со спиннером в Telegram и авто-удаление перед доставкой outbox (`services/bot/src/thinking-indicator.ts`). Проверить: при долгом ответе виден спиннер, затем он удаляется и приходит ответ с футером.
7. 2026-02-05 - Обновлен "thinking" индикатор в Telegram: вместо спиннера теперь анимированные точки (обновление раз в 1с) в `services/bot/src/thinking-indicator.ts`. Проверить: во время выполнения промпта текст меняется `.` -> `..` -> `...` и индикатор удаляется перед ответом.
8. 2026-02-05 - Доведена Mini App часть до требований по стриму и лимитам файлов: стрим-индикатор (ярко-зеленый) на активном проекте и в блоке Workspace, скрытие/disable Select для уже выбранного проекта, вынос логики auth/WS/иконок в `services/miniapp/src/hooks/*` и `services/miniapp/src/utils/file-icons.tsx`, снижение `services/miniapp/src/App.tsx` до лимита 500 строк; актуализирована спецификация под текущее поведение в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: Start/Stop stream кнопки, STREAM badge на активной карточке проекта, вывод терминала по WS.
9. 2026-02-05 - Создан рабочий каркас проекта: backend (NestJS), bot (Telegraf), miniapp (Vite/React), opencode Dockerfile, Traefik конфиги и docker-compose build, плюс базовые тесты и шаблоны. Проверить: сборка сервисов, запуск docker compose, доступность /api и /miniapp.
10. 2026-02-05 - Добавлена полная спецификация, актуальные env-параметры и структура репозитория в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: соответствие файлов и конфигов.
11. 2026-02-04 - Создан каркас проекта (README, .env.example, docker-compose, Traefik конфиги, шаблоны проектов, сервисные README) и переписана полная спецификация в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: ссылки на файлы, placeholders, корректность маршрутизации.
12. 2026-02-04 - Добавлены шаблоны конфигураций (env, docker-compose, Traefik, override проекта) и детализирован механизм поддоменов/запуска проектов в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: валидность шаблонов, placeholders для портов/домена.
13. 2026-02-04 - Добавлена детальная инструкция развертывания VPS, управление проектами через Docker Compose, поддомены проектов через Traefik и noindex-настройки в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: DNS wildcard, Traefik routing, docker.sock доступ, запуск/статусы проектов.
14. 2026-02-04 - Зафиксировано ограничение масштаба (1 сервер -> 1 OpenCode -> 1 Telegram) и текущий минимальный сценарий удаленного подключения в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: формулировки 1:1:1 и приоритеты.
15. 2026-02-04 - Добавлено описание серверного и клиентского режимов OpenCode, а также привязка к нашей схеме (server mode в Docker, SSE `/event`, Basic Auth при внешнем доступе) в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: запуск `opencode serve`, доступность `/doc` и `/event` внутри сети.
16. 2026-02-04 - Обновлен план Telegram-управления (чат + Mini App, удаленный доступ через reverse proxy, безопасность, API, Docker Compose) в `docs/OPENCODE_TELEGRAM_PLAN.md`; файл перенесен в `docs/OPENCODE_TELEGRAM_PLAN.md`. Проверить: домен и TLS, маршруты proxy, соответствие endpoint-ов и событий.
